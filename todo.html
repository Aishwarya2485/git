<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
    <h1 class="text-center"> To-Do-Today</h1>
    <div class="d-flex justify-content-center align-items-center gap-2">
        <input id="inputTag" type="text" placeholder="enter the title">
        <button class="btn btn-primary"onclick="addTask()">
            Add Task
        </button>
    </div>
    <div id="parent" 
    class="d-flex flex-column justify-content-center align-items-center gap-2 mt-2">
        <!-- <div>
        <input type="checkbox" />
        <span>
            Wakeup at 5am
        </span>
        <button class="btn btn-warning">edit</button>
        <button class="btn btn-danger">delete</button>
         </div>
       
         <div>
        <input type="checkbox" />
        <span>
           Workout for 1 hour
        </span>
        <button class="btn btn-warning">edit</button>
        <button class="btn btn-danger">delete</button>
         </div> -->
    </div>

    <script>

        console.log("js is running");

        let ToDoToday = [
            {
                title: "Wakeup at 5 am",
                completed:true,
            },
            {
                title: "Workout for 1 hour",
                completed:false,
            },

        ];


        let ToDoTodayParent = document.getElementById("parent");
         let inputTag = document.getElementById("inputTag")

       
        function showToDoToday() {
            ToDoTodayParent.innerHTML='';
            ToDoToday.forEach((ele, index) => {

                ToDoTodayParent.innerHTML = ToDoTodayParent.innerHTML +
                    `  <div>
                <input type="checkbox" onclick="handleCheckbox(${index})" ${ele.completed ? "checked":"null"}/>
                <span class="${ele.completed ?'text-decoration-line-through':'null'}"> ${ele.title} </span>
                <button class="btn btn-warning" onclick="handleEdit(${index})">edit</button> 
                <button class="btn btn-danger " onclick="handleDelete(${index})">delete</button>
                </div>`
            });
        }
        // showToDoToday();
        // console.log(ToDoTodayParent, 'parent');
        function handleCheckbox(index){
            ToDoToday[index].completed= !ToDoToday[index].completed
            showToDoToday()
        }

           function addTask() {
             ToDoToday.push({
              title:inputTag.value
           });

           showToDoToday();

          console.log(ToDoToday, 'ToDoToday in add task')
         }
         
         function handleEdit(index){ 
            let updatedTitle = prompt("enter new title");
            ToDoToday[index].title=updatedTitle;
            showToDoToday()
         }
        
        function handleDelete(index) {
            ToDoToday.splice(index,1);

            showToDoToday()
        }
     showToDoToday();

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>